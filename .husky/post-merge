#!/usr/bin/env sh

function changed {
    git diff --name-only HEAD@{1} HEAD | grep "^$1" >/dev/null 2>&1
}

BLUE='\033[0;34m'
GREEN='\033[0;32m'
NC='\033[0m'

echo -e "${BLUE}π” pnpm-lock.yml λ³€κ²½μ‚¬ν•­ ν™•μΈ μ¤‘...${NC}"

if changed "pnpm-lock.yml"; then
    echo -e "${GREEN}π“¦ pnpm-lock.ymlμ΄ λ³€κ²½λμ—μµλ‹λ‹¤. μμ΅΄μ„±μ„ μµμ‹  μƒνƒλ΅ μ—…λ°μ΄νΈν•©λ‹λ‹¤.${NC}"
    pnpm install
fi

echo -e "${GREEN}π‰ λ¨λ“  μ—…λ°μ΄νΈκ°€ μ™„λ£λμ—μµλ‹λ‹¤ :)${NC}"

exit 0
